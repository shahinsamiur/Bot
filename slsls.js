const ema=require("./ema")
const AtrStopLossAndTakeProfit = require("./Bot/AtrStopLossAndTakeProfit");

const func=async()=>{

const output={
    close: [
      0.66515, 0.66538, 0.66566,  0.6645,   0.665, 0.66542,
       0.6655, 0.66672, 0.66681, 0.66666, 0.66662,  0.6671,
      0.66712, 0.66695, 0.66683, 0.66732, 0.66693, 0.66695,
       0.6668, 0.66717,  0.6672, 0.66713, 0.66766,  0.6679,
       0.6677, 0.66764, 0.66685, 0.66681, 0.66709, 0.66712,
       0.6665,   0.667, 0.66707, 0.66674, 0.66689, 0.66642,
      0.66602,  0.6658, 0.66606, 0.66565, 0.66524, 0.66582,
      0.66602, 0.66536, 0.66551,  0.6654, 0.66541, 0.66579,
      0.66549, 0.66584, 0.66569, 0.66548, 0.66574, 0.66556,
      0.66617, 0.66664, 0.66641, 0.66567, 0.66536,  0.6655,
      0.66521, 0.66512,  0.6648, 0.66502, 0.66482, 0.66464,
      0.66468, 0.66458, 0.66474, 0.66496, 0.66527
    ],
    high: [
      0.66568,  0.66539,  0.66576,  0.66572, 0.66522,
      0.66572,  0.66568,  0.66732,    0.667, 0.66706,
      0.66688,  0.66724,  0.66737,  0.66722, 0.66702,
      0.66743,  0.66736,  0.66723,  0.66704, 0.66718,
      0.66738,  0.66739,   0.6678,  0.66795, 0.66798,
      0.66799,   0.6677,  0.66734,  0.66757, 0.66721,
      0.66727,  0.66702,  0.66732,  0.66736, 0.66706,
      0.66722, 0.666705,   0.6665,   0.6661,  0.6663,
      0.66571,  0.66588,  0.66624,  0.66616, 0.66565,
      0.66569,  0.66566,  0.66579,  0.66583, 0.66604,
      0.66605,  0.66576,  0.66582,  0.66627, 0.66651,
      0.66699,  0.66673,  0.66648,  0.66578, 0.66556,
      0.66573,  0.66539,  0.66536,  0.66506, 0.66502,
      0.66487,  0.66482, 0.664765, 0.664825, 0.66508,
      0.66537
    ],
    low: [
       0.66513,   0.665,  0.66525, 0.66438,   0.6645,
       0.66435, 0.66502,  0.66544, 0.66646,  0.66646,
       0.66642, 0.66653,  0.66692, 0.66664,  0.66671,
       0.66681,  0.6668,  0.66688, 0.66663,  0.66674,
       0.66698,   0.667,  0.66708, 0.66744,  0.66754,
       0.66742,  0.6668,  0.66626, 0.66674,   0.6667,
      0.666495, 0.66648,  0.66691, 0.66633,  0.66656,
        0.6664, 0.66598, 0.665795,  0.6656,   0.6655,
       0.66509, 0.66509,   0.6658, 0.66531,  0.66532,
       0.66522, 0.66508,  0.66533, 0.66534,  0.66544,
       0.66561,  0.6649,  0.66535, 0.66532, 0.665475,
       0.66617, 0.66606,  0.66558, 0.66513,  0.66511,
        0.6652, 0.66498,  0.66462,  0.6647,  0.66468,
       0.66456, 0.66463, 0.664535, 0.66456,   0.6647,
       0.66496
    ],
    close1H: [
      0.66723, 0.66724,  0.6671, 0.66706, 0.66744, 0.66735,
      0.66792, 0.66817, 0.66813,  0.6685, 0.66854, 0.66814,
      0.66814, 0.66786, 0.66838, 0.66812, 0.66761, 0.66734,
       0.6668,  0.6665,  0.6666, 0.66656, 0.66694, 0.66732,
       0.6667,  0.6669, 0.66644, 0.66712, 0.66732, 0.66592,
      0.66634, 0.66603,  0.6662, 0.66602, 0.66593,  0.6669,
      0.66706, 0.66686,  0.6676, 0.66692, 0.66583, 0.66238,
      0.66234, 0.66256,  0.6625, 0.66336, 0.66406, 0.66398,
      0.66427,  0.6642, 0.66408, 0.66454, 0.66484, 0.66566,
       0.6655, 0.66662, 0.66683,  0.6668, 0.66766, 0.66685,
       0.6665, 0.66689, 0.66606, 0.66602, 0.66541, 0.66569,
      0.66617, 0.66536,  0.6648, 0.66468, 0.66527
    ],
    high1H: [
        0.668, 0.66728, 0.66724, 0.66724, 0.66749,  0.6676,
       0.6682, 0.66835, 0.66827, 0.66862, 0.66914, 0.66881,
      0.66854, 0.66814, 0.66856, 0.66862, 0.66814, 0.66782,
      0.66782, 0.66708, 0.66676, 0.66736, 0.66724, 0.66738,
      0.66739, 0.66727,  0.6669, 0.66724, 0.66745, 0.66747,
       0.6666, 0.66644, 0.66634, 0.66658, 0.66602, 0.66701,
       0.6674, 0.66727, 0.66804, 0.66773,  0.6673, 0.66592,
      0.66286, 0.66276, 0.66328, 0.66352, 0.66412, 0.66411,
       0.6643, 0.66432,  0.6642, 0.66474, 0.66502, 0.66576,
      0.66572, 0.66732, 0.66737, 0.66743,  0.6678, 0.66799,
      0.66757, 0.66736, 0.66722,  0.6663, 0.66616, 0.66605,
      0.66651, 0.66699, 0.66573, 0.66506, 0.66537
    ],
    low1H: [
       0.66722, 0.66693,  0.6671, 0.66705, 0.66671,
       0.66718, 0.66728, 0.66778, 0.66791, 0.66811,
       0.66834, 0.66804,  0.6679, 0.66767, 0.66766,
       0.66808, 0.66745,  0.6641,  0.6666, 0.66602,
       0.66618, 0.66615, 0.66632, 0.66654, 0.66625,
       0.66574,   0.666, 0.66622, 0.66683, 0.66592,
        0.6657, 0.66592,  0.6659,   0.666, 0.66528,
       0.66554, 0.66652, 0.66658,  0.6666, 0.66687,
       0.66558, 0.66223, 0.66204, 0.66194, 0.66237,
       0.66233, 0.66328, 0.66364, 0.66368, 0.66404,
       0.66278, 0.66404, 0.66444, 0.66469, 0.66435,
       0.66544, 0.66653, 0.66663, 0.66674,  0.6668,
       0.66626, 0.66633,  0.6656, 0.66509, 0.66508,
       0.66533,  0.6649, 0.66513, 0.66462, 0.66456,
      0.664535
    ]
  }




const EMA21=await ema(output.close, 21)
const EMA50=await ema(output.close, 50)
// console.log("ema",EMA21.length)
// console.log("ema",EMA21)
var j=22;
for (let i = (EMA50.length-1); i >0; i--) {

    if (EMA21[i+29] > EMA21[ 1+28] && EMA21[ i+29] > EMA50[ i]) {
  
        console.log(i,"up","EMA_price--",EMA21[i+29])
       
      } else if (EMA21[ i+29] < EMA21[ i+28] && EMA21[ i+29] < EMA50[ i]) {

        console.log(i,"down","EMA_price--",EMA21[i+29])
      
      } else {
    
        console.log(i,"sideways","EMA_price--",EMA21[i+29])
     
      }
    j--

  

}
SLandTP = AtrStopLossAndTakeProfit(
  output.close,
  output.high,
  output.low,
  14,// pried 
  "RMA",// type 
  1.69 // multiplyer 
);

console.log(SLandTP)

}


console.log(func())



